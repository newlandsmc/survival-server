AURELIUM_LEVEL_SET_ON_COMBAT:
  Skills:
  - setvariable{var=caster.power_level;type=INTEGER;value="1"}
  - setvariable{var=caster.players_power_level;type=INTEGER;value="0"}
  - setvariable{var=caster.players_nearby;type=INTEGER;value="0"}
  - delay 2
  - variableMath{var=caster.players_power_level;equation="x+%aureliumskills_power%"} @PlayersInRadius{r=32}
  - variableMath{var=caster.players_nearby;equation="x+1"} @PlayersInRadius{r=32}
  - delay 2
  - variableMath{var=caster.power_level;equation="1+(<caster.var.players_power_level>/<caster.var.players_nearby>)/100"}
  - delay 2
  - skill{s=AURELIUM_LEVEL_CAP_10}
  - delay 2
  - setlevel{a=set;l="<caster.var.power_level>"} @Self
  - delay 2
  - setname{name="<caster.name> [Lvl <caster.var.power_level>]"} @Self

AURELIUM_LEVEL_CAP_10:
  Conditions:
  - variableinrange{var=caster.power_level;value=>10}
  Skills:
  - setvariable{var=caster.power_level;value="10"}
